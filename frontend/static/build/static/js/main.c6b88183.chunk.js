(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),r=n.n(s),c=n(12),i=n.n(c),o=(n(18),n(8)),l=n.n(o),h=n(10),u=n(3),d=n(4),j=n(2),b=n(6),m=n(5),p=(n(20),n(7)),f=n.n(p),g=n(9),O=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={title:"",body:"",category:"Music",status:"Draft",headliner:!1,author:""},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a}return Object(d.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"addArticle",value:function(e){e.preventDefault(),fetch("/api/v1/articles/",{method:"post",headers:{"Content-Type":"application/json"},body:""})}},{key:"render",value:function(){var e=this;return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsxs)("form",{className:"news-form",onSubmit:function(t){e.addArticle(t,e.state),e.setState({title:"",body:"",author:""})},children:[Object(a.jsxs)("div",{className:"left",children:[Object(a.jsx)("p",{className:"logo-form",children:"THE CODING CHRONICLES"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"news-title",children:"Title"}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.title,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"news-title",children:"Author"}),Object(a.jsx)("input",{type:"text",defaultValue:this.state.author,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"news-title",children:"Category"}),Object(a.jsxs)("select",{className:"news-option",id:"category",name:"category",defaultValue:this.state.category,onChange:this.handleChange,children:[Object(a.jsx)("option",{defaultValue:"Editorials",children:"Editorials"}),Object(a.jsx)("option",{defaultValue:"Sports",children:"Sports"}),Object(a.jsx)("option",{defaultValue:"Entertainment",children:"Entertainment"})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"news-title",children:"Status"}),Object(a.jsx)("select",{className:"news-option",id:"status",name:"status",defaultValue:this.state.status,onChange:this.handleChange,children:Object(a.jsx)("option",{defaultValue:"draft",children:"Draft"})})]})]}),Object(a.jsxs)("div",{className:"right",children:[Object(a.jsxs)("div",{className:"body",children:[Object(a.jsx)("label",{className:"news-body",children:"Body"}),Object(a.jsx)("textarea",{className:"news-text",rows:"5",defaultValue:this.state.body,onChange:this.handleChange})]}),Object(a.jsx)("button",{type:"submit",className:"sub btn btn-dark",children:"Submit"})]})]})})}}]),n}(s.Component);var v=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a}return Object(d.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("form",{className:"col-12 col-md-6",onSubmit:function(t){return e.props.registerUser(t,e.state)},children:[Object(a.jsx)("h5",{className:"Register",children:"Login"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"username",children:"Username"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:this.state.username,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"password1",name:"password1",value:this.state.password1,onChange:this.handleChange})]}),Object(a.jsx)("div",{className:"create-Account-Btn",children:Object(a.jsx)("button",{className:"btn btn-primary",children:"Login"})})]})}}]),n}(s.Component),x=(s.Component,s.Component,function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={username:"",email:"",password1:"",password2:""},a.handleChange=a.handleChange.bind(Object(j.a)(a)),a}return Object(d.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("form",{className:"col-12 col-md-6",onSubmit:function(t){return e.props.registerUser(t,e.state)},children:[Object(a.jsx)("h5",{className:"Register",children:"Create Account"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"username",children:"Username"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:this.state.username,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:this.state.email,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password1",children:"Password"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"password1",name:"password1",value:this.state.password1,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"password2",name:"password2",value:this.state.password2,onChange:this.handleChange})]}),Object(a.jsx)("div",{className:"create-Account-Btn",children:Object(a.jsx)("button",{className:"btn btn-primary",children:"Register"})})]})}}]),n}(s.Component));var y=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={articles:[],title:[],loggedin:f.a.get("Authorization")},a.fetchArticles=a.fetchArticles.bind(Object(j.a)(a)),a.handlePost=a.handlePost.bind(Object(j.a)(a)),a.registration=a.registration.bind(Object(j.a)(a)),a.logIn=a.logIn.bind(Object(j.a)(a)),a.logOut=a.logOut.bind(Object(j.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.fetchArticles()}},{key:"fetchArticles",value:function(){var e=this;!0===this.state.logIn&&fetch("api/v1/articles/").then((function(e){return e.json()})).then((function(t){return e.setState({articles:t})})).catch((function(e){return console.log("Error:",e)}))}},{key:"logIn",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var a,s,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={method:"POST",headers:{"X-CSRFToken":f.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(n)},s=function(e){return console.warn(e)},e.next=5,fetch("api/v1/rest-auth/login/",a);case 5:return r=e.sent,e.next=8,r.json().catch(s);case 8:(c=e.sent).key&&f.a.set("Authorization","Token ".concat(c.key));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handlePost",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var a,s,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":f.a.get("csrftoken")},body:JSON.stringify(n)},s=function(e){return console.warn(e)},e.next=5,fetch("/api/v1/articles/",a);case 5:return r=e.sent,e.next=8,r.json().catch(s);case 8:(c=e.sent).key&&f.a.set("Authorization","Token ".concat(c.key));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"registeration",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var a,s,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={method:"POST",headers:{"X-CSRFToken":f.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(n)},s=function(e){return console.warn(e)},e.next=5,fetch("api/v1/rest-auth/registration/",a);case 5:return r=e.sent,e.next=8,r.json().catch(s);case 8:(c=e.sent).key&&f.a.set("Authorization","Token ".concat(c.key));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":f.a.get("csrftoken")}},a=function(e){return console.warn(e)},e.next=5,fetch("/api/v1/rest-auth/logout/",n);case 5:return e.sent,e.next=8,response.json().catch(a);case 8:"Successfully logged out."===e.sent.detail&&(f.a.remove("Authorization"),this.setState({page:"login"}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;console.log(this.state.loggedIn);var n,s=this.state.display;"register"===s?e=Object(a.jsx)("div",{className:"form",children:Object(a.jsx)(x,{registerUser:this.registerUser})}):"login"===s&&(e=Object(a.jsx)("div",{className:"form",children:Object(a.jsx)(v,{logIn:this.logIn})}));var c=this.state.logIn;return n=!0===c?Object(a.jsx)("div",{className:"ArticleForm",children:Object(a.jsx)(O,{articless:this.state.articless,handlePost:this.handlePost,postArticle:this.postArticle,logOut:this.logOut})}):"",Object(a.jsx)(r.a.Fragment,{children:!1===c?Object(a.jsxs)("div",{className:"mt-6",children:[e,Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("button",{onClick:function(){return t.setState({display:"login"})},type:"button",className:"btn btn-link",children:"Already have an account?"}),Object(a.jsx)("button",{onClick:function(){return t.setState({display:"register"})},type:"button",className:"btn btn-link",children:"Don't have an account?"})]})]}):Object(a.jsx)("div",{children:n})})}}]),n}(s.Component),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root")),C()}},[[21,1,2]]]);
//# sourceMappingURL=main.c6b88183.chunk.js.map